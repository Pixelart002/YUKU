<!-- index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Firebase Push Notifications</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
  <h2>ðŸ”” Firebase Push Notification Demo</h2>
  <button id="notifyBtn">Enable Notifications</button>

  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-messaging-compat.js"></script>

  <script>
    // Replace with your config
    const firebaseConfig = {
      apiKey: "AIzaSyBVLkg5-aTOIFxtfBB0hwvOXNOTb9ns3JU",
    authDomain: "yukuprotocol01.firebaseapp.com",
    projectId: "yukuprotocol01",
    storageBucket: "yukuprotocol01.firebasestorage.app",
    messagingSenderId: "1077444358098",
    appId: "1:1077444358098:web:ca1fded28ef6ef2762620b",
    };

    // Init
    firebase.initializeApp(firebaseConfig);
    const messaging = firebase.messaging();

    // Ask user for permission + get token
    document.getElementById("notifyBtn").addEventListener("click", async () => {
      try {
        const token = await messaging.getToken({
          vapidKey: "BGsW2JJzbhHoBwu_UkONW27lIHKsWKvyukxj_gFV16cBp-vUDtSPx94TeTk-FvKgO11OOZPeaH62YOBzb7j2QH8"
        });
        console.log("FCM Token:", token);
        alert("Token: " + token);
        // TODO: send token to your server to use for sending notifications
      } catch (err) {
        console.error("Permission denied or error:", err);
      }
    });

    // Foreground messages
    messaging.onMessage(payload => {
      console.log("Message received in foreground:", payload);
      new Notification(payload.notification.title, {
        body: payload.notification.body,
        icon: payload.notification.icon
      });
    });
  </script>
</body>
</html>